<!--
 * Copyright (c) 2020 PayGate (Pty) Ltd
 *
 * Author: App Inlet (Pty) Ltd
 *
 * Released under the GNU General Public License Version 3
 *
-->

<div style="background-color:#57B7DF; text-align: center; margin-bottom: 15px; padding: 4px; color: #ffffff;">
	<strong>Initiate CardPayment</strong></div>
<div class="container" [@routerTransition]>
	<form role="form" class="form-horizontal text-left" [formGroup]="cardPaymentForm" (ngSubmit)="onSubmit()">
		<div class="form-group row">
			<label for="CardNumber" class="col-sm-3 control-label">Card Number</label>
			<div class="col-sm-9">
				<input type="text" formControlName="CardNumber" id="CardNumber" class="form-control" value="10011072130"
					[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.CardNumber.errors }" />
			</div>
		</div>
		<div class="form-group row">
			<label for="CardExpiryDate" class="col-sm-3 control-label">Card Expiry Date</label>
			<div class="col-sm-9">
				<input type="text" formControlName="CardExpiryDate" id="CardExpiryDate" class="form-control"
					value="10011072130"
					[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.CardExpiryDate.errors }" />
			</div>
		</div>
		<div class="form-group row">
			<label for="CardIssueDate" class="col-sm-3 control-label">Card Issue Date</label>
			<div class="col-sm-9">
				<input type="text" formControlName="CardIssueDate" id="CardIssueDate" class="form-control"
					value="10011072130"
					[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.CardIssueDate.errors }" />
			</div>
		</div>

		<div class="form-group row">
			<label for="CVV" class="col-sm-3 control-label">CVV</label>
			<div class="col-sm-9">
				<input type="text" formControlName="CVV" id="CVV" class="form-control" value="10011072130"
					[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.CVV.errors }" />
			</div>
		</div>

		<div class="form-group row">
			<label for="BudgetPeriod" class="col-sm-3 control-label">Budget Period</label>
			<div class="col-sm-9">
				<input type="text" formControlName="BudgetPeriod" id="BudgetPeriod" class="form-control"
					value="10011072130"
					[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.BudgetPeriod.errors }" />
			</div>
		</div>

		<div class="form-group row">
			<div class="col-sm-12">
				<button type="button" class="btn btn-primary btn-block"
					(click)="payGateAccountDetails = !payGateAccountDetails"
					[attr.aria-expanded]="!payGateAccountDetails" aria-controls="accountDetailsDiv">
					PayGate Account Details
				</button>
			</div>
		</div>
		<div id="accountDetailsDiv" [ngbCollapse]="payGateAccountDetails" class="collapse well well-sm">
			<div class="form-group row">

				<label for="PayGateId" class="col-sm-3 control-label">PayGate ID</label>
				<div class="col-sm-9">
					<input type="text" formControlName="PayGateId" id="PayGateId" class="form-control"
						value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.PayGateId.errors }" />
				</div>
			</div>
			<div class="form-group row">
				<label for="Password" class="col-sm-3 control-label">Password</label>
				<div class="col-sm-9">
					<input type="text" formControlName="Password" id="Password" class="form-control" value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Password.errors }" />
				</div>
			</div>
		</div>

		<div class="form-group row">
			<div class="col-sm-12">
				<button type="button" class="btn btn-primary btn-block" (click)="customerDetails = !customerDetails"
					[attr.aria-expanded]="!payGateAccountDetails" aria-controls="customerDetailsDiv">
					Customer Details
				</button>
			</div>
		</div>
		<div id="customerDetailsDiv" [ngbCollapse]="customerDetails" class="collapse well well-sm">
			<div class="form-group row">
				<label for="Title" class="col-sm-3 control-label">Customer's Title</label>
				<div class="col-sm-9">
					<input type="text" formControlName="Title" id="Title" class="form-control" value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Title.errors }" />
				</div>
			</div>
			<div class="form-group row">
				<label for="FirstName" class="col-sm-3 control-label">First Name</label>
				<div class="col-sm-9">
					<input type="text" formControlName="FirstName" id="FirstName" class="form-control"
						value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.FirstName.errors }" />
				</div>
			</div>
			<div class="form-group row">
				<label for="LastName" class="col-sm-3 control-label">Last Name</label>
				<div class="col-sm-9">
					<input type="text" formControlName="LastName" id="LastName" class="form-control" value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.LastName.errors }" />
				</div>
			</div>
			<div class="form-group row">
				<label for="Telephone" class="col-sm-3 control-label">Telephone</label>
				<div class="col-sm-9">
					<input type="text" formControlName="Telephone" id="Telephone" class="form-control"
						value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Telephone.errors }" />
				</div>
			</div>
			<div class="form-group row">
				<label for="Mobile" class="col-sm-3 control-label">Mobile</label>
				<div class="col-sm-9">
					<input type="text" formControlName="Mobile" id="Mobile" class="form-control" value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Mobile.errors }" />
				</div>
			</div>

			<div class="form-group row">
				<label for="Email" class="col-sm-3 control-label">Email</label>
				<div class="col-sm-9">
					<input type="text" formControlName="Email" id="Email" class="form-control" value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Email.errors }" />
				</div>
			</div>

		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<button type="button" class="btn btn-primary btn-block"
					(click)="redirectUrlDetails = !redirectUrlDetails" [attr.aria-expanded]="!redirectUrlDetails"
					aria-controls="redirectUrlDetailsDiv">
					Redirect URL's Details
				</button>
			</div>
		</div>
		<div id="redirectUrlDetailsDiv" [ngbCollapse]="redirectUrlDetails" class="collapse well well-sm">
			<div class="form-group row">
				<label for="NotifyUrl" class="col-sm-3 control-label">Notify Url</label>
				<div class="col-sm-9">
					<input type="text" formControlName="NotifyUrl" id="NotifyUrl" class="form-control"
						value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.NotifyUrl.errors }" />
				</div>
			</div>
			<div class="form-group row">
				<label for="ReturnUrl" class="col-sm-3 control-label">Return Url</label>
				<div class="col-sm-9">
					<input type="text" formControlName="ReturnUrl" id="ReturnUrl" class="form-control"
						value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.ReturnUrl.errors }" />
				</div>
			</div>

		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<button type="button" class="btn btn-primary btn-block" (click)="orderDetails = !orderDetails"
					[attr.aria-expanded]="!orderDetails" aria-controls="orderDetailsDiv">
					Order Details
				</button>
			</div>
		</div>
		<div id="orderDetailsDiv" [ngbCollapse]="orderDetails" class="collapse well well-sm">
			<div class="form-group row">
				<label for="MerchantOrderId" class="col-sm-3 control-label">Order Merchant Order Id</label>
				<div class="col-sm-9">
					<input type="text" formControlName="MerchantOrderId" id="MerchantOrderId" class="form-control"
						value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.MerchantOrderId.errors }" />
				</div>
			</div>
			<div class="form-group row">
				<label for="Currency" class="col-sm-3 control-label">Currency</label>
				<div class="col-sm-9">
					<select formControlName="Currency" id="Currency" class="form-control" [ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Currency.errors }">
						<option *ngFor= "let countri of CountriesData" [selected]="countri.currency_code=='ZMK'" value={{countri.currency_code}} >{{countri.currency}} </option>
					</select>
					<!-- <input type="text" formControlName="Currency" id="Currency" class="form-control" value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Currency.errors }" /> -->
				</div>
			</div>
			<div class="form-group row">
				<label for="Amount" class="col-sm-3 control-label">Amount</label>
				<div class="col-sm-9">
					<input type="text" formControlName="Amount" id="Amount" class="form-control" value="10011072130"
						[ngClass]="{ 'is-invalid': submitted && cardPaymentForm.controls.Amount.errors }" />
				</div>
			</div>

		</div>


		<div class="form-group row">
			<div class="col-sm-12">
				<img src="/assets/images/loader.gif" alt="Processing" class="initialHide" id="authLoader">
				<input class="btn btn-success btn-block" id="doAuthBtn" type="submit" name="btnSubmit"
					value="Do Auth" />
			</div>
		</div>
	</form>

	<!-- <div class="row">
		<div class="col-sm-12">
			<button id="showRedirectBtn" class="btn btn-warning btn-block" type="button" data-toggle="collapse"
				data-target="#redirectDiv" aria-expanded="false" aria-controls="redirectDiv">
				Redirect Required
			</button>
		</div>
	</div> -->
	<!-- <br>
	<div id="redirectDiv" class="collapse well well-sm">
		<div class="row ">
			<div class="col-sm-12">
				<label for="response" class="col-sm-3 sr-only">Redirect</label>
				<textarea class="form-control" rows="20" cols="100" id="redirect"> -->
	<!-- form action passed back from WS -->
	<!-- <form [formGroup]="doRedirect" method="post">

						<input type="hidden" name="" value="" />
						<input type="submit" name="submitBtn" value="Do Redirect" />
					</form>
				</textarea>
			</div>
		</div>
	</div>
	<form role="form" class="form-horizontal text-left"  [formGroup]="modalForm">
		<input type="hidden" name="" value="" />
		<br>
		<div class="form-group row">
			<div class="col-sm-12">
				<img src="/assets/images/loader.gif" alt="Processing" class="initialHide" id="submitLoader">
				<input class="btn btn-success btn-block" type="submit" name="submitBtn" id="doSubmitBtn" value="submit"
					data-toggle="modal" data-target="#authModal" />
			</div>
		</div>
		<br>
	</form> -->

	<!-- Modal to house the iframe we use for 3D Secure authentication if returned from PayHost -->
	<!-- <div class="modal fade" id="authModal" tabindex="-1" role="dialog" aria-labelledby="3DAuthModal" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
							aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="myModalLabel">3D Authentication</h4>
				</div>
				<div class="modal-body">
					<iframe name="iframetest" id="iframetest" src="" height="550" width="100%" frameborder="0"
						scrolling="auto"></iframe>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div> -->
</div>
